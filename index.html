<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Yury Leonardo Oropeza Veracierto">
    <title>Selección de Centro</title>
    <!-- Carga de Tailwind CSS para el estilo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }        
        .selection-button {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        .selection-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(102, 118, 234, 0.3), 0 4px 6px -4px rgba(102, 118, 234, 0.1);
        }
    </style>
</head>
<body>

    <div id="app" class="bg-white rounded-2xl shadow-2xl max-w-xl w-full p-6 sm:p-10">

        <!-- Encabezado replicando el estilo de las páginas originales -->
        <header class="text-center mb-8 border-b-4 border-indigo-500 pb-4">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-indigo-700">Selector de Listado</h1>
            <p class="text-gray-500 mt-2">Escoge el centro para continuar.</p>
        </header>

        <!-- Contenedor principal de selección (Inicialmente para Ciudad) -->
        <div id="city-selection" class="space-y-4">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 text-center">Paso 1: Elige el Centro</h2>
            
            <button onclick="selectCity('MALAGA')" 
                    class="selection-button w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50">
                MÁLAGA
            </button>
            
            <button onclick="selectCity('SEVILLA')" 
                    class="selection-button w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50">
                SEVILLA
            </button>
        </div>

        <!-- Contenedor para la selección de Sindicato (Inicialmente oculto) -->
        <div id="union-selection" class="space-y-4 hidden">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 text-center">Paso 2: Elige el Sindicato</h2>
            
            <button onclick="selectUnion('CGT')" 
                    class="selection-button w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50">
                CGT
            </button>
            
            <button onclick="selectUnion('CCOO')" 
                    class="selection-button w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50">
                CCOO
            </button>

            <button onclick="resetSelection()" 
                    class="w-full text-sm text-gray-500 mt-4 pt-4 border-t border-gray-200 hover:text-indigo-600 transition duration-150">
                &larr; Volver a la selección de centro
            </button>
        </div>
        
    </div>

    <script>
        // Variable global para almacenar la selección de la ciudad
        let selectedCity = '';

        // Elementos del DOM
        const citySelectionDiv = document.getElementById('city-selection');
        const unionSelectionDiv = document.getElementById('union-selection');
        const headerSubtitle = document.querySelector('.header p');

        /**
         * Almacena la ciudad seleccionada y muestra las opciones de sindicato.
         * @param {string} city - La ciudad seleccionada ('MALAGA' o 'SEVILLA').
         */
        function selectCity(city) {
            selectedCity = city;
            
            // Actualiza la interfaz para mostrar las opciones del sindicato
            citySelectionDiv.classList.add('hidden');
            unionSelectionDiv.classList.remove('hidden');
            
            // Actualiza el texto del encabezado
            document.querySelector('.header h1').textContent = `${city.toUpperCase()}: Seleccionar Sindicato`;
            document.querySelector('.header p').textContent = `Estás en ${city}. Elige la opción final.`;
        }

        /**
         * Realiza la navegación a la página final basada en la ciudad y el sindicato.
         * @param {string} union - El sindicato seleccionado ('CGT' o 'CCOO').
         */
        function selectUnion(union) {
            const city = selectedCity;
            let destinationPage = '';

            // Lógica de mapeo según lo solicitado
            if (city === 'MALAGA') {
                if (union === 'CGT') {
                    destinationPage = 'page1.html';
                } else if (union === 'CCOO') {
                    destinationPage = 'page2.html';
                }
            } else if (city === 'SEVILLA') {
                if (union === 'CGT') {
                    destinationPage = 'page3.html';
                } else if (union === 'CCOO') {
                    destinationPage = 'page4.html';
                }
            }

            // Redirección a la página de destino
            if (destinationPage) {
                window.location.href = destinationPage;
            } else {
                // Manejo de error si la combinación no es válida (aunque por la lógica no debería ocurrir)
                console.error('Combinación de selección no válida:', city, union);
                alert('Error en la selección. Inténtalo de nuevo.');
                resetSelection();
            }
        }

        /**
         * Restablece la interfaz al paso inicial de selección de ciudad.
         */
        function resetSelection() {
            selectedCity = '';
            
            // Actualiza la interfaz
            unionSelectionDiv.classList.add('hidden');
            citySelectionDiv.classList.remove('hidden');
            
            // Restablece el texto del encabezado a su estado original
            document.querySelector('.header h1').textContent = 'Selector de Secciones';
            document.querySelector('.header p').textContent = 'Escoge la ciudad para continuar.';
        }
    </script>
</body>
</html>
